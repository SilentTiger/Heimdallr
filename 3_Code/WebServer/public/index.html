<!DOCTYPE html>
<html>
<head>
    <title>Heimdallr</title>
    <link href="./css/normalize.css" rel="stylesheet">
    <link href="./css/jquery.gridster.css" rel="stylesheet">
    <style type="text/css">
        @font-face { font-family: "Walkway-SemiBold"; src: url("./font/Walkway SemiBold.ttf"); }
        body, html { height: 100%; width: 100%; font: 400 34px "Walkway-SemiBold", 'Century Gothic', Helvetica, Arial, sans-serif; }
        .header { height: 52px; background: linear-gradient(to bottom, #d7d7d7 0%, #f7f7f7 100%); }
        header { display: inline; font-size: 52px; }
        #btnAddWidget { float: right; width: 33px; height: 33px; margin-top: 8px; stroke: #007aff; cursor: default; stroke-width: 2; }
    </style>
</head>
<body>
    <div class="header">
        <header>Heimdallr</header>
        <svg id="btnAddWidget" title="New widget">
            <line x1="16" y1="2" x2="16" y2="30" />
            <line x1="2" y1="16" x2="30" y2="16" />
        </svg>
    </div>
    <input type="text" id="pid" />
    <input type="text" id="interval" />
    <input type="button" value="start" onclick="startListen()" />
    <input type="button" value="stop" onclick="stopListen()" />

    <script src="./js/jquery-2.1.0.min.js"></script>
    <script src="./js/jquery.gridster.js"></script>
    <script type="text/javascript">
        var ws = new WebSocket("ws://10.50.141.116:8080");
        ws.onmessage = function (msg) { console.log(msg) };

        function startListen() {
            ws.send(JSON.stringify({ cmd: 'addMonitoringTarget', data: { id: pid.value, interval: parseInt(interval.value) } }));
        }

        function stopListen() {
            ws.send(JSON.stringify({ cmd: 'removeMonitoringTarget', data: { id: pid.value } }));
        }
    </script>
</body>
</html>